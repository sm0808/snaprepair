<!--
  Generated template for the AdminOffersPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!-- <ion-header>

  <ion-navbar>
    <ion-title>admin_offers</ion-title>
  </ion-navbar>

</ion-header> -->

<ion-header>
    <ion-navbar color="primary">
        <button ion-button menuToggle>
    <ion-icon name="menu"></ion-icon>
  </button>

        <ion-title>
            <ion-grid>
                <ion-row class="header-class">
                    <ion-col col-2>
                        <!-- <div class="logoHeader"></div> -->
                    </ion-col>
                    <ion-col col-6>
                        <strong>Recent Offers</strong>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-title>

    </ion-navbar>
</ion-header>


<ion-content>

    <div *ngFor="let offer of offers">
        <ion-card *ngIf="offer.status != 1" id="card-{{offer.offerId}}">

            <ion-item>
                <ion-avatar item-start>
                    <img src="assets/img/avatar/marty-avatar.png">
                </ion-avatar>
                <h2>{{ offer.name }}</h2>
                <ion-note>{{ offer.email }}</ion-note>
            </ion-item>

            <img *ngIf="!imgloaded[i]" src="{{ loadingAnimation }}" />
            <img [hidden]="!imgloaded[i]" (load)="imgloaded[i] = true" src="{{ offer.img }}" />
            <!-- <img src="{{ offer.img || loadingAnimation }}"> -->

            <ion-card-content>
                <p><strong>Category:</strong> {{ offer.cat_name }}</p>
                <p><strong>Description:</strong> {{ offer.description }}</p>
                <ion-note>
                    Expected Completion Time: {{ offer.ect }}
                </ion-note>
            </ion-card-content>

            <ion-row>
                <ion-col col-6 text-center>
                    <button ion-button color="danger" clear small icon-start (click)="viewDetails(offer.offerId)">
                      <ion-icon name='ios-bookmark'></ion-icon>
                      View Details
                    </button>
                </ion-col>
                <ion-col col-6 text-center *ngIf="offer.status != -1">
                    <button ion-button clear small color="instagram" icon-start (click)="showUpdatePopup(offer.offerId, offer.price)">
                        <ion-icon name='ios-refresh-circle'></ion-icon>
                        Update Quote
                    </button>
                </ion-col>
                <ion-col text-right class="badge_Margin">
                    <ion-badge [hidden]="offer.status != -1" color="danger">Offer Declined</ion-badge>
                    <ion-badge [hidden]="offer.status != 0" color="primary">Offer Not Accepted Yet!</ion-badge>
                </ion-col>
            </ion-row>

        </ion-card>
    </div>

</ion-content>